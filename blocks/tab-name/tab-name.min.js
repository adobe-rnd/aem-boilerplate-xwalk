import{ctaClickInteraction as E}from"../../dl.min.js";import{createCarousle as w,getProps as T}from"../../scripts/common.min.js";function y(s,p){const d=document.createElement("button");return d.classList.add("carousel-control",s),d.innerHTML=p,d}export function generateTabName(s){const[p,d,C,n,S,g,H,I,...q]=T(s,{index:[4,5]}),b=p.split(","),v=d.split(","),h=[...q],M="";s.innerHTML="",s.classList.add(n||"normal");const u=document.createElement("div");u.classList.add("carousel-inner"),u.id="carouselInner",b.forEach((l,t)=>{const c=document.createElement("div"),r=document.createElement("img");r.src=h[t],r.alt=l,r.id=v[t].trim().replace(/ /g,"-"),c.id=v[t].trim().replace(/ /g,"-"),t?c.classList.add("carousel-item"):c.classList.add("carousel-item","active"),c.append(h[t]?r:l.trim()),u.append(c)});const L=y("prev",S?.outerHTML),f=y("next",g?.outerHTML);return L.classList.add(n==="normal"?"dp-none":"dp-normal"),f.classList.add(n==="normal"?"dp-none":"dp-normal"),s.append(u),n=="glider"?console.log("glider"):n==="carousel"&&w(s,L,f),s.addEventListener("click",l=>{let t=l.target;n=="glider"&&(t.closest(".glider-prev")||t.closest(".glider-next"))&&(t=t.closest(".nested-tab-name-child").querySelector(".carousel-item.active"));const{id:c}=t,r=c&&document.querySelector(`.tab-container[data-id=${c}]`),i=c&&document.querySelector(`.nested-tab-name-child[data-id=${c}]`);let m;if(i){const e=i.closest(".section");Array.from(i.children[0].children).forEach(a=>{a.classList.remove("active")}),n=="glider"||i.querySelector(".carousel-inner.glider")?m=i.children[0].children[0].children[0]:m=i.children[0].children[0],e.querySelectorAll(".tab-container[data-id]").forEach((a,o)=>{e.querySelector(".tab-name")?.children[0].children[o].classList.remove("active"),e.querySelector(".nested-tab-name-child")?.children[0]?.children[o]?.classList.remove("active"),a.classList.add("dp-none"),a.classList.remove("active")}),e.querySelector(`.tab-container[data-id=${m.id}]`).classList.add("active"),e.querySelector(`.tab-container[data-id=${m.id}]`).classList.remove("dp-none"),e.querySelectorAll(".nested-tab-name-child").forEach((a,o)=>{e.querySelector(".tab-name-nested").children[0].children[0].children[o].classList.remove("active"),a.classList.add("dp-none"),a.classList.remove("active")}),m.classList.add("active"),i.classList.remove("dp-none"),i.classList.add("active"),t.classList.add("active"),t.closest(".carousel-item")?.classList.add("active")}else if(r){const e=r.closest(".section");e.querySelectorAll(".tab-container").forEach((a,o)=>{e.querySelector(".tab-name")?.children[0].children[o].classList.remove("active"),n=="glider"?e.querySelector(".nested-tab-name-child.active")?.children[0]?.children[0]?.children[o]?.classList.remove("active"):e.querySelector(".nested-tab-name-child.active")?.children[0]?.children[o]?.classList.remove("active"),a.classList.add("dp-none"),a.classList.remove("active")}),r.classList.remove("dp-none"),r.classList.add("active"),t.classList.add("active"),t.closest(".carousel-item")?.classList.add("active")}document.querySelector(".section.tab-with-cards-wrapper .tab-name-wrapper")&&(document.querySelector(".section.partnerships-cards-wrapper").classList.contains(c)&&t.classList.contains("active")?document.querySelector(".section.partnerships-cards-wrapper").classList.remove("dp-none"):document.querySelector(".section.partnerships-cards-wrapper").classList.add("dp-none"));try{if(l.target.closest(".tab-name-wrapper")){const e={};e.click_text=l.target.textContent.trim(),e.cta_position=l.target.closest(".section").querySelector(".default-content-wrapper").querySelector("h1, h2, h3, h4, h5, h6").textContent.trim(),E(e)}}catch(e){console.warn(e)}}),s}export default function A(s){return generateTabName(s)}

import{showingStateCity as d}from"../../scripts/common.min.js";import{onClickCity as y,onClickState as f}from"./branchlocator-biz.min.js";import{setLocationObj as m}from"./branchlocator-init.min.js";import{sortElements as c}from"./sort.min.js";export function renderState(e,t){const r=e.closest(".section").querySelector(".state-wrapper > .option-wrapper");r.innerHTML=t.stateLi,c(r),S(e)}export function renderCity(e){const t=e.closest(".section").querySelector(".city-wrapper > .option-wrapper");t.innerHTML=m.cityLi,c(t),L(e)}function S(e){i(e,".default-state-selected",".city-wrapper"),p(e),f(e)}function L(e){i(e,".default-city-selected",".state-wrapper"),p(e),y(e)}function i(e,t,r){const o=e.closest(".section"),n=o.querySelector(t),a=n.parentElement.querySelector(".dropdown-option-wrapper"),s=o.querySelector(r);n.addEventListener("click",l=>{l.stopImmediatePropagation();const u=o.querySelectorAll(".search-input");d(u),s.classList.add("dp-none"),s.querySelector("input").value="",a.classList.toggle("dp-none")})}function p(e){e.closest(".section").querySelectorAll(".search-input").forEach(r=>{r.addEventListener("input",o=>{const n=o.target.value.replace(/[^a-zA-Z ]+/g,"").toLowerCase();o.target.value=n,r.parentElement.querySelectorAll("[data-info]").forEach(s=>{s.classList.toggle("dp-none",!s.textContent.toLowerCase().includes(n))})})})}
